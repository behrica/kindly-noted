
---
format:
  html: {toc: true, toc-depth: 4, theme: spacelab}
highlight-style: solarized
code-block-background: true
embed-resources: false
execute: {freeze: true}

---
<style>
table {
  border-style: thin;
}
th, td {
  padding: 6px;
}
td {
  text-align: left;
}
th {
  text-align: center;
  background-color: #ddd;
}
tr:nth-child(even) {
  background-color: #f6f6f6;
}
</style><style>
.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style><script src="https://cdn.jsdelivr.net/npm/vega@5.22.1" type="text/javascript"></script><script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0" type="text/javascript"></script><script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0" type="text/javascript"></script>
# Kindly

<div class="originalCode">
```clojure
(ns kindly
  (:require [scicloj.kindly.v4.api :as kindly]
            [scicloj.kindly.v4.kind :as kind]
            [scicloj.note-to-test.v1.api :as note-to-test]
            [scicloj.clay.v2.api :as clay]
            [tablecloth.api :as tc]))
```
</div>



```
```


<div class="printedClojure">
```clojure
[:ok]

```
</div>


## Example

<div class="originalCode">
```clojure
(kind/md
 "hello *hello* **hello**")
```
</div>


hello *hello* **hello**

<div class="originalCode">
```clojure
(-> "hello *hello* **hello**"
    kind/md
    meta)
```
</div>



<div class="printedClojure">
```clojure
#:kindly{:kind :kind/md}

```
</div>


## Set of kinds

<div class="originalCode">
```clojure
kindly/known-kinds
```
</div>



<div class="printedClojure">
```clojure
#{:kind/code
  :kind/vega
  :kind/image
  :kind/echarts
  :kind/map
  :kind/test
  :kind/dataset
  :kind/vega-lite
  :kind/cytoscape
  :kind/set
  :kind/reagent
  :kind/var
  :kind/hidden
  :kind/hiccup
  :kind/md
  :kind/seq
  :kind/pprint
  :kind/table
  :kind/vector}

```
</div>


## How to use Kinds?

### Attaching metadata to forms

<div class="originalCode">
```clojure
^:kind/md
["hello *hello* **hello**"]
```
</div>


<div><div><div><p>hello <em>hello</em> <strong>hello</strong></p></div></div></div>

<div class="originalCode">
```clojure
(-> "^:kind/md
[\"hello *hello* **hello**\"]
"
    read-string
    meta)
```
</div>



<div class="printedClojure">
```clojure
#:kind{:md true}

```
</div>


<div class="originalCode">
```clojure
(-> "^kind/md
[\"hello *hello* **hello**\"]
"
    read-string
    meta)
```
</div>



<div class="printedClojure">
```clojure
{:tag kind/md}

```
</div>


### Attaching metadata to values

<div class="originalCode">
```clojure
(kind/md
 ["hello *hello* **hello**"])
```
</div>


hello *hello* **hello**
Values that cannot have metadata are wrapped in a vector before attaching metadata.

<div class="originalCode">
```clojure
(kind/md
 "hello *hello* **hello**")
```
</div>


hello *hello* **hello**

<div class="originalCode">
```clojure
(kind/md
 "hello *hello* **hello**")
```
</div>


hello *hello* **hello**

<div class="originalCode">
```clojure
^:kind/md
["hello *hello* **hello**"]
```
</div>


<div><div><div><p>hello <em>hello</em> <strong>hello</strong></p></div></div></div>

### Using values annotated by libraries

<div class="originalCode">
```clojure
(require '[scicloj.noj.v1.vis :as vis]
         '[scicloj.noj.v1.datasets :as datasets])
```
</div>



<div class="printedClojure">
```clojure
nil

```
</div>


<div class="originalCode">
```clojure
(-> datasets/iris
    (vis/hanami-histogram :sepal-width
                          {:nbins 10})
    (assoc :height 100)
    meta)
```
</div>



<div class="printedClojure">
```clojure
#:kindly{:kind :kind/vega-lite}

```
</div>


### Automatically-inferred kinds
In certain situations, kinds are inferred without annotation. For example, images:

<div class="originalCode">
```clojure
(def clj-image
  (->  "https://clojure.org/images/clojure-logo-120b.png"
       (java.net.URL.)
       (javax.imageio.ImageIO/read)))
```
</div>



<div class="originalCode">
```clojure
clj-image
```
</div>


<div><img src="data:image/png;base64,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" /></div>

## Catalogue of visualisations

### Markdown - `:kind/md`

<div class="originalCode">
```clojure
(-> "hello *hello* **hello**"
    kind/md)
```
</div>


hello *hello* **hello**

<div class="originalCode">
```clojure
(-> "hello *hello* **hello**"
    kind/md
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/markdown \"hello *hello* **hello**\"]]")}
                , document.currentScript.parentElement);</script></div></div>

### Code

<div class="originalCode">
```clojure
(-> "(defn f [x] (+ x 9))"
    kind/code)
```
</div>



<div class="originalCode">
```clojure
(defn f [x] (+ x 9))
```
</div>



<div class="originalCode">
```clojure
(-> "(defn f [x] (+ x 9))"
    kind/code
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/code \"(defn f [x] (+ x 9))\"]]")}
                , document.currentScript.parentElement);</script></div></div>

### Vega-Lite

<div class="originalCode">
```clojure
(def my-plot
  {:encoding
   {:y {:field "y", :type "quantitative"},
    :size {:value 400},
    :x {:field "x", :type "quantitative"}},
   :mark {:type "circle", :tooltip true},
   :width 400,
   :background "floralwhite",
   :height 100,
   :data {:values "x,y\n1,1\n2,-4\n3,9\n", :format {:type "csv"}}})
```
</div>



<div class="originalCode">
```clojure
(-> my-plot
    kind/vega-lite)
```
</div>


<div><div>vega<script>vegaEmbed(document.currentScript.parentElement, {"encoding":{"y":{"field":"y","type":"quantitative"},"size":{"value":400},"x":{"field":"x","type":"quantitative"}},"mark":{"type":"circle","tooltip":true},"width":400,"background":"floralwhite","height":100,"data":{"values":"x,y\n1,1\n2,-4\n3,9\n","format":{"type":"csv"}}});</script></div></div>

<div class="originalCode">
```clojure
(-> my-plot
    kind/vega-lite
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^#:portal.viewer{:default :portal.viewer/hiccup} [:portal.viewer/vega-lite ^{:source \"{:encoding\\n   {:y {:field \\\"y\\\", :type \\\"quantitative\\\"},\\n    :size {:value 400},\\n    :x {:field \\\"x\\\", :type \\\"quantitative\\\"}},\\n   :mark {:type \\\"circle\\\", :tooltip true},\\n   :width 400,\\n   :background \\\"floralwhite\\\",\\n   :height 100,\\n   :data {:values \\\"x,y\\\\n1,1\\\\n2,-4\\\\n3,9\\\\n\\\", :format {:type \\\"csv\\\"}}}\", :line 117, :column 3, :end-line 125, :end-column 67, :kindly/kind :kind/vega-lite} {:encoding ^{:source \"{:y {:field \\\"y\\\", :type \\\"quantitative\\\"},\\n    :size {:value 400},\\n    :x {:field \\\"x\\\", :type \\\"quantitative\\\"}}\", :line 118, :column 4, :end-line 120, :end-column 43} {:y ^{:source \"{:field \\\"y\\\", :type \\\"quantitative\\\"}\", :line 118, :column 8, :end-line 118, :end-column 42} {:field \"y\", :type \"quantitative\"}, :size ^{:source \"{:value 400}\", :line 119, :column 11, :end-line 119, :end-column 23} {:value 400}, :x ^{:source \"{:field \\\"x\\\", :type \\\"quantitative\\\"}\", :line 120, :column 8, :end-line 120, :end-column 42} {:field \"x\", :type \"quantitative\"}}, :mark ^{:source \"{:type \\\"circle\\\", :tooltip true}\", :line 121, :column 10, :end-line 121, :end-column 41} {:type \"circle\", :tooltip true}, :width 400, :background \"floralwhite\", :height 100, :data ^{:source \"{:values \\\"x,y\\\\n1,1\\\\n2,-4\\\\n3,9\\\\n\\\", :format {:type \\\"csv\\\"}}\", :line 125, :column 10, :end-line 125, :end-column 66} {:values \"x,y\\n1,1\\n2,-4\\n3,9\\n\", :format ^{:source \"{:type \\\"csv\\\"}\", :line 125, :column 52, :end-line 125, :end-column 65} {:type \"csv\"}}}]")}
                , document.currentScript.parentElement);</script></div></div>

### Coming soon
Vega, Cytoscape, ECharts, Plotly, 3Dmol

### Images

<div class="originalCode">
```clojure
clj-image
```
</div>


<div><img src="data:image/png;base64,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" /></div>

<div class="originalCode">
```clojure
(-> clj-image
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "#object[\"[B\" 0x11eaa451 \"[B@11eaa451\"]")}
                , document.currentScript.parentElement);</script></div></div>

### Datasets

<div class="originalCode">
```clojure
(def my-dataset
  (-> {:x (range 3)}
      tc/dataset
      (tc/map-columns :y
                      [:x]
                      (fn [x] (* x x)))))
```
</div>



<div class="originalCode">
```clojure
my-dataset
```
</div>


<div><div><div><div><p>_unnamed [3 2]:</p><table><thead><tr><th style="text-align:right;">:x</th><th style="text-align:right;">:y</th></tr></thead><tbody><tr><td style="text-align:right;">0</td><td style="text-align:right;">0</td></tr><tr><td style="text-align:right;">1</td><td style="text-align:right;">1</td></tr><tr><td style="text-align:right;">2</td><td style="text-align:right;">4</td></tr></tbody></table></div></div></div></div>

<div class="originalCode">
```clojure
(-> my-dataset
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^#:portal.viewer{:default :portal.viewer/hiccup} [:code ^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/markdown \"_unnamed [3 2]:\\n\\n| :x | :y |\\n|---:|---:|\\n|  0 |  0 |\\n|  1 |  1 |\\n|  2 |  4 |\\n\\n\"]]]")}
                , document.currentScript.parentElement);</script></div></div>

### Hiccup

<div class="originalCode">
```clojure
(-> [:div {:style
           {:background-color "floralwhite"}}
     [:p "hello"]]
    kind/hiccup)
```
</div>


<div><div style="background-color:floralwhite;"><p>hello</p></div></div>

<div class="originalCode">
```clojure
(-> [:div {:style
           {:background-color "floralwhite"}}
     [:p "hello"]]
    kind/hiccup
    clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^{:source \"[:div {:style\\n           {:background-color \\\"floralwhite\\\"}}\\n     [:p \\\"hello\\\"]]\", :line 162, :column 5, :end-line 164, :end-column 19, :kindly/kind :kind/hiccup, :portal.viewer/default :portal.viewer/hiccup} [:div ^{:source \"{:style\\n           {:background-color \\\"floralwhite\\\"}}\", :line 162, :column 11, :end-line 163, :end-column 46} {:style ^{:source \"{:background-color \\\"floralwhite\\\"}\", :line 163, :column 12, :end-line 163, :end-column 45} {:background-color \"floralwhite\"}} ^{:source \"[:p \\\"hello\\\"]\", :line 164, :column 6, :end-line 164, :end-column 18} [:p \"hello\"]]")}
                , document.currentScript.parentElement);</script></div></div>

### Reagent
coming soon: `kind/reagent`

### Pretty printing

<div class="originalCode">
```clojure
(->> (range 30)
     (apply array-map)
     kind/pprint)
```
</div>



<div class="printedClojure">
```clojure
{0 1,
 2 3,
 4 5,
 6 7,
 8 9,
 10 11,
 12 13,
 14 15,
 16 17,
 18 19,
 20 21,
 22 23,
 24 25,
 26 27,
 28 29}

```
</div>


<div class="originalCode">
```clojure
(->> (range 30)
     (apply array-map)
     kind/pprint
     clay/in-portal)
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^#:portal.viewer{:default :portal.viewer/hiccup} [:portal.viewer/code \"{0 1,\\n 2 3,\\n 4 5,\\n 6 7,\\n 8 9,\\n 10 11,\\n 12 13,\\n 14 15,\\n 16 17,\\n 18 19,\\n 20 21,\\n 22 23,\\n 24 25,\\n 26 27,\\n 28 29}\\n\"]")}
                , document.currentScript.parentElement);</script></div></div>

### Hidden

<div class="originalCode">
```clojure
(->> {:x 9}
     kind/hidden)
```
</div>



<div class="printedClojure">
```clojure
{:x 9}

```
</div>


### Plain data structures
Plain Clojure data structures have recursive kind semantics:
- Each tool has its own way to represent them visually
(e.g., Clay just uses text, while Portal has a hierarchical navigation UI).
- If the values inside them have kind information, they are handled accordingly.

Examples:

<div class="originalCode">
```clojure
(list 1 "A" :B 'C)
```
</div>



<div class="printedClojure">
```clojure
(1 "A" :B C)

```
</div>


<div class="originalCode">
```clojure
(clay/in-portal
 (list 1 "A" :B 'C))
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "(^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"A\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :B]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector ^{:source \"C\", :line 203, :column 18, :end-line 203, :end-column 19} C]])")}
                , document.currentScript.parentElement);</script></div></div>

<div class="originalCode">
```clojure
[1 "A" :B 'C]
```
</div>



<div class="printedClojure">
```clojure
[1 "A" :B C]

```
</div>


<div class="originalCode">
```clojure
(clay/in-portal
 [1 "A" :B 'C])
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "[^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"A\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :B]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector ^{:source \"C\", :line 208, :column 13, :end-line 208, :end-column 14} C]]]")}
                , document.currentScript.parentElement);</script></div></div>

<div class="originalCode">
```clojure
#{1 "A" :B 'C}
```
</div>



<div class="printedClojure">
```clojure
#{1 :B C "A"}

```
</div>


<div class="originalCode">
```clojure
(clay/in-portal
 #{1 "A" :B 'C})
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "#{^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"A\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector ^{:source \"C\", :line 213, :column 14, :end-line 213, :end-column 15} C]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :B]]}")}
                , document.currentScript.parentElement);</script></div></div>

<div class="originalCode">
```clojure
{1 "A" :B 'C}
```
</div>



<div class="printedClojure">
```clojure
{1 "A", :B C}

```
</div>


<div class="originalCode">
```clojure
(clay/in-portal
 {1 "A" :B 'C})
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^{:source \"{1 \\\"A\\\" :B 'C}\", :line 218, :column 2, :end-line 218, :end-column 15} {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector 1]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector \"A\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :B]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector ^{:source \"C\", :line 218, :column 13, :end-line 218, :end-column 14} C]]}")}
                , document.currentScript.parentElement);</script></div></div>

<div class="originalCode">
```clojure
[(kind/hiccup
  [:div {:style
         {:background-color "floralwhite"}}
   [:p "hello"]])
 (kind/md
  "hello *hello* **hello**")
 (kind/code
  "(defn f [x] (+ x 9))")]
```
</div>


<div><div><div>[</div><div style="margin-left:10%;width:110%;"><div style="background-color:floralwhite;"><p>hello</p></div><div><div><p>hello <em>hello</em> <strong>hello</strong></p></div></div><div><pre class="card"><code class="language-clojure bg-light">(defn f [x] (+ x 9))</code></pre></div></div><div>]</div></div></div>

<div class="originalCode">
```clojure
(clay/in-portal
 [(kind/hiccup
   [:div {:style
          {:background-color "floralwhite"}}
    [:p "hello"]])
  (kind/md
   "hello *hello* **hello**")
  (kind/code
   "(defn f [x] (+ x 9))")])
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "[^{:source \"[:div {:style\\n          {:background-color \\\"floralwhite\\\"}}\\n    [:p \\\"hello\\\"]]\", :line 231, :column 4, :end-line 233, :end-column 18, :kindly/kind :kind/hiccup, :portal.viewer/default :portal.viewer/hiccup} [:div ^{:source \"{:style\\n          {:background-color \\\"floralwhite\\\"}}\", :line 231, :column 10, :end-line 232, :end-column 45} {:style ^{:source \"{:background-color \\\"floralwhite\\\"}\", :line 232, :column 11, :end-line 232, :end-column 44} {:background-color \"floralwhite\"}} ^{:source \"[:p \\\"hello\\\"]\", :line 233, :column 5, :end-line 233, :end-column 17} [:p \"hello\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/markdown \"hello *hello* **hello**\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/code \"(defn f [x] (+ x 9))\"]]]")}
                , document.currentScript.parentElement);</script></div></div>

<div class="originalCode">
```clojure
{:x  (kind/md
      "**hello**")
 (kind/md
  "**hello**") :x}
```
</div>


<div><div><div>{</div><div style="margin-left:10%;width:110%;"><table><tr><td valign="top"><pre><code class="language-clojure">:x
</code></pre></td><td><div style="margin-top:10px;"><div><div><p><strong>hello</strong></p></div></div></div></td></tr></table><table><tr><td valign="top"><div><div><p><strong>hello</strong></p></div></div></td><td><div style="margin-top:10px;"><pre><code class="language-clojure">:x
</code></pre></div></td></tr></table></div><div>}</div></div></div>

<div class="originalCode">
```clojure
(clay/in-portal
 {:x  (kind/md
       "**hello**")
  (kind/md
   "**hello**") :x})
```
</div>


<div><div><script>portal.extensions.vs_code_notebook.activate().renderOutputItem(
                {"mime": "x-application/edn",
                 "text": (() => "^{:source \"{:x  (kind/md\\n       \\\"**hello**\\\")\\n  (kind/md\\n   \\\"**hello**\\\") :x}\", :line 245, :column 2, :end-line 248, :end-column 20} {^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :x]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/markdown \"**hello**\"]], ^#:portal.viewer{:default :portal.viewer/hiccup} [:div [:portal.viewer/markdown \"**hello**\"]] ^#:portal.viewer{:default :portal.viewer/hiccup} [:div nil [:portal.viewer/inspector :x]]}")}
                , document.currentScript.parentElement);</script></div></div>

### Tables
Coming soon

## Topics in discussion
- hiding code
- handling styles around data visualizations
- compatibility with [Emmy-Viewers](https://emmy-viewers.mentat.org/)
- backwards compatibility of kind inference

```
```


## Old notes
- Different tools have different ways of writing notes. For example:
- [Anglican tutorials](https://probprog.github.io/anglican/examples/index.html) ([source](https://bitbucket.org/probprog/anglican-examples/src/master/worksheets/)) - written in [Gorilla REPL](https://github.com/JonyEpsilon/gorilla-repl)
- [thi-ng/geom viz examples](https://github.com/thi-ng/geom/blob/feature/no-org/org/examples/viz/demos.org)  ([source](https://raw.githubusercontent.com/thi-ng/geom/feature/no-org/org/examples/viz/demos.org)) - written in [Org-babel-clojure](https://orgmode.org/worg/org-contrib/babel/languages/ob-doc-clojure.html)
- [Clojure2d docs](https://github.com/Clojure2D/clojure2d#Usage) ([source1](https://github.com/Clojure2D/clojure2d/blob/master/src/clojure2d), [source2](https://github.com/Clojure2D/clojure2d/blob/master/metadoc/clojure2d/)) - written in [Codox](https://github.com/weavejester/codox) and [Metadoc](https://github.com/generateme/metadoc)
- [Tablecloth API docs](https://scicloj.github.io/tablecloth/index.html) ([source](https://github.com/scicloj/tablecloth/blob/master/docs/index.Rmd)) - written in [rmarkdown-clojure](https://github.com/genmeblog/rmarkdown-clojure)
- [R interop ClojisR examples](https://github.com/scicloj/clojisr-examples) ([source](https://github.com/scicloj/clojisr-examples/tree/master/src/clojisr_examples)) - written in [Notespace v2](https://github.com/scicloj/notespace/blob/master/doc/v2.md)
- [Bayesian optimization tutorial](https://nextjournal.com/generateme/bayesian-optimization) ([source](https://nextjournal.com/generateme/bayesian-optimization)) - written in [Nextjournal](https://nextjournal.com/)
- [scicloj.ml tutorials](https://github.com/scicloj/scicloj.ml-tutorials#tutorials-for-sciclojml) ([source](https://github.com/scicloj/scicloj.ml-tutorials/tree/main/src/scicloj/ml)) - written in [Notespace v3](https://github.com/scicloj/notespace/blob/master/doc/v3.md)
- [Clojure2d color tutorial](https://clojure2d.github.io/clojure2d/docs/notebooks/index.html#/notebooks/color.clj) ([source](https://github.com/Clojure2D/clojure2d/blob/master/notebooks/color.clj)) - written in [Clerk](https://github.com/nextjournal/)
- [Viz.clj](https://scicloj.github.io/viz.clj/) ([source](https://github.com/scicloj/viz.clj/blob/master/notebooks/intro.clj)) - written in Kindly using [Clay](https://scicloj.github.io/viz.clj/)
- ...

<div style="background-color:grey;height:2px;width:100%;"></div>
<div><code><small><small>source: <a href="https://github.com/scicloj/kindly-noted/blob/main//home/daslu/projects/scicloj/kindly-noted/project/notebooks/kindly.clj">/home/daslu/projects/scicloj/kindly-noted/project/notebooks/kindly.clj</a></small></small></code></div>